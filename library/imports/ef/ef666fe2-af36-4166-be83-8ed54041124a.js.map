{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "thisclass",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "id",
    "num",
    "getChance",
    "wacount",
    "onLoad",
    "find",
    "active",
    "nodetop1",
    "nodetop2",
    "dialog",
    "ajaxData",
    "HxsgUrl",
    "loadWaBao",
    "data",
    "msg",
    "roleMsg",
    "w1",
    "w2",
    "w3",
    "w4",
    "w5",
    "w6",
    "w7",
    "w8",
    "w9",
    "switchScene",
    "backEvent",
    "returnLast",
    "before",
    "after",
    "beforen",
    "aftern",
    "getComponent",
    "string",
    "toString",
    "wabaonode",
    "i",
    "name",
    "node",
    "log",
    "interactable",
    "color",
    "Color",
    "Button",
    "enabled",
    "getChildByName",
    "keySwitch",
    "wabao",
    "event",
    "target",
    "parent",
    "jsonData",
    "startWaBao",
    "y",
    "enter",
    "init",
    "showAlert",
    "okdialog",
    "jixuwabao",
    "nextWaBao",
    "sx",
    "loadingScene",
    "HxsgScenes",
    "index",
    "test"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var thisclass;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        id: 0,\r\n        num: 0,\r\n        getChance: false,\r\n        wacount: 0,\r\n        // ...\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        cc.find(\"Canvas/main/topzone1/jixuwabao\").active = false;\r\n        var nodetop1 = cc.find(\"Canvas/main/topzone1\");\r\n        var nodetop2 = cc.find(\"Canvas/main/topzone2\");\r\n        nodetop1.active = false;\r\n        nodetop2.active = false;\r\n        var dialog = cc.find(\"Canvas/main/topzone2/dialog\");\r\n        dialog.active = false;\r\n         thisclass = this;\r\n        ajaxData( HxsgUrl.loadWaBao,null,function (data) {\r\n                var msg = data.msg;\r\n                thisclass.id = msg.id;\r\n                 roleMsg.id=msg.id;\r\n                thisclass.num =msg.num;\r\n                if (msg.num == 0 & (msg.w1 == 0 && msg.w2 == 0 &&\r\n                    msg.w3 == 0 && msg.w4 == 0 && msg.w5 == 0 && msg.w6 == 0 &&\r\n                    msg.w7 == 0 && msg.w8 == 0 && msg.w9 == 0)) {\r\n                    thisclass.switchScene(3, 2);\r\n                }\r\n                else {\r\n                    thisclass.switchScene(3, 1, msg);\r\n\r\n                }\r\n\r\n        });\r\n\r\n\r\n    },\r\n/**\r\n     * 点击事件-->返回\r\n     */\r\n    backEvent: function () {\r\n        //调用通用的返回上一场景方法\r\n        returnLast();\r\n\r\n    },\r\n    switchScene: function (before, after, msg) {\r\n        var beforen;\r\n        switch (before) {\r\n            case 1: beforen = cc.find(\"Canvas/main/topzone1\"); break;\r\n            case 2: beforen = cc.find(\"Canvas/main/topzone2\"); break;\r\n            case 3: beforen = cc.find(\"Canvas/main/topzone3\"); break;\r\n        }\r\n        if (typeof (beforen) != \"undefined\")\r\n            beforen.active = false;\r\n        var aftern;\r\n        switch (after) {\r\n            case 1: aftern = cc.find(\"Canvas/main/topzone1\");\r\n                cc.find(\"Canvas/main/topzone1/numlabel\").getComponent(\"cc.Label\").string = \"剩余挖宝次数:\" + this.num.toString();\r\n                this.wacount = 0;\r\n                var wabaonode = cc.find(\"Canvas/main/topzone1/wabao\");\r\n                for (var i = 1; i <= 9; i++) {\r\n                    var name = \"w\" + i;\r\n                    var node = cc.find(name + \"/button\", wabaonode);\r\n                    cc.log('msg.name:' + msg[name])\r\n                    if (msg[name] == 0) {\r\n                        this.wacount++;\r\n                           cc.log(name+\"---false\")\r\n                        cc.log(\" this.wacount:\"+ this.wacount)\r\n                        node.getComponent(\"cc.Button\").interactable = false;\r\n                        node.color = new cc.Color(0, 0, 49);\r\n                        node.getComponent(cc.Button).enabled = true;\r\n                        node.getChildByName(\"Label\").getComponent(\"cc.Label\").string = \"已挖\";\r\n\r\n                    } else {\r\n                        cc.log(name+\"---true\")\r\n                        node.getComponent(\"cc.Button\").interactable = true;\r\n                        node.color = new cc.Color(231, 14, 101);\r\n                        node.getComponent(cc.Button).enabled = true;\r\n                        node.getChildByName(\"Label\").getComponent(\"cc.Label\").string = \"挖宝\";\r\n                    }\r\n\r\n                }\r\n                 this.keySwitch();\r\n                break;\r\n            case 2: aftern = cc.find(\"Canvas/main/topzone2\"); break;\r\n            case 3: aftern = cc.find(\"Canvas/main/topzone3\"); break;\r\n        }\r\n        aftern.active = true;\r\n    },\r\n\r\n    wabao: function (event) {\r\n        var node = event.target;\r\n        node.color = new cc.Color(0, 0, 49);\r\n        node.getComponent(cc.Button).enabled = false;\r\n        node.getChildByName(\"Label\").getComponent(\"cc.Label\").string = \"已挖\";\r\n        var name = node.parent.name;\r\n        this.wacount++;\r\n        var jsonData = {};\r\n        jsonData[\"id\"] = this.id;\r\n        jsonData[name] = '0';\r\n        cc.log(jsonData)\r\n        ajaxData(HxsgUrl.startWaBao,jsonData,function (data) {\r\n                var node = cc.find(\"Canvas/main/topzone1/tiplabel\");\r\n                node.getComponent(\"cc.Label\").string = data.msg;\r\n\r\n            \r\n        });\r\n        this.keySwitch();\r\n        \r\n    },\r\n keySwitch:function(){\r\n    if (this.wacount >= 9) {\r\n            if (this.num <= 0)\r\n                this.switchScene(1, 2);\r\n            else {\r\n                cc.find(\"Canvas/main/downline\").y -= 50;\r\n                cc.find(\"Canvas/scrollView\").y -= 50;\r\n                cc.find(\"Canvas/main/topzone1/jixuwabao\").active = true;\r\n            }\r\n        }\r\n },\r\n\r\n    enter: function (event) {\r\n        // var dialog=cc.find(\"Canvas/main/topzone2/dialog\");\r\n        // dialog.active=true;\r\n        // var mymsg=dialog.getChildByName(\"msg\").getComponent(\"cc.Label\");\r\n        var thisclass = this;\r\n        // mymsg.string=\"连接中。。。\";\r\n        ajaxData(HxsgUrl.init,null,function (data) {\r\n                // mymsg.string=data.msg;\r\n\r\n                if (data.msg == 'false' || data.msg == '000003') {\r\n                    thisclass.getChance = true;\r\n                    showAlert('你没有藏宝图，无法进入')\r\n                } else {\r\n                    showAlert('消耗藏宝图一个，点击进入宝洞', thisclass.okdialog)\r\n                }\r\n\r\n\r\n\r\n            \r\n        });\r\n    },\r\n\r\n    jixuwabao: function (event) {\r\n        cc.find(\"Canvas/main/downline\").y += 50;\r\n        cc.find(\"Canvas/scrollView\").y += 50;\r\n        cc.find(\"Canvas/main/topzone1/jixuwabao\").active = false;\r\n          ajaxData(HxsgUrl.nextWaBao, roleMsg, thisclass.sx);\r\n        \r\n        \r\n      \r\n       \r\n        //this.switchScene(0, 1);\r\n    },\r\n    sx:function(){\r\n        cc.log(\"-----继续挖宝\")\r\n ajaxData( HxsgUrl.loadWaBao,null,function (data) {\r\n                var msg = data.msg;\r\n                thisclass.id = msg.id;\r\n                 roleMsg.id=msg.id;\r\n                thisclass.num =msg.num;\r\n                if (msg.num == 0 & (msg.w1 == 0 && msg.w2 == 0 &&\r\n                    msg.w3 == 0 && msg.w4 == 0 && msg.w5 == 0 && msg.w6 == 0 &&\r\n                    msg.w7 == 0 && msg.w8 == 0 && msg.w9 == 0)) {\r\n                    thisclass.switchScene(3, 2);\r\n                }\r\n                else {\r\n                    thisclass.switchScene(3, 1, msg);\r\n\r\n                }\r\n\r\n            \r\n        });\r\n    },\r\n    okdialog: function (event) {\r\n   \r\n        loadingScene(HxsgScenes.wabao,HxsgScenes.index)\r\n        \r\n    },\r\n\r\n    test: function (event) {\r\n        this.switchScene(1, 2);\r\n    }\r\n\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"
  ]
}