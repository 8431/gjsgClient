{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "target",
    "default",
    "type",
    "Prefab",
    "leftContent",
    "Node",
    "content",
    "backEvent",
    "loadScene",
    "HxsgScenes",
    "wupin",
    "index",
    "curItemData",
    "onLoad",
    "log",
    "userWuPin",
    "objects",
    "obj",
    "title",
    "find",
    "userTitle",
    "xiaoGuo",
    "getComponent",
    "string",
    "name",
    "urls",
    "type1",
    "HxsgUrl",
    "queryFuJiangJiNengBook",
    "jiNengShu",
    "self",
    "ajaxData",
    "wupinId",
    "msg",
    "p",
    "length",
    "showAlert",
    "i",
    "item",
    "instantiate",
    "addChild",
    "x",
    "y",
    "height",
    "lab",
    "color",
    "Color",
    "console",
    "selectBn",
    "bn",
    "rolename",
    "id",
    "roleId",
    "fuId",
    "node",
    "on",
    "showUserBook",
    "rfid",
    "roleLevel",
    "skillList",
    "returnWuPin",
    "event",
    "button",
    "Button",
    "num",
    "tishi",
    "userJiNengShu",
    "removeAllChildren",
    "skillname",
    "imputNum",
    "jnId",
    "director"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        target: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        leftContent: cc.Node,\r\n        content: cc.Node,\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n    backEvent: function () {\r\n        //调用通用的返回上一场景方法\r\n        loadScene(HxsgScenes.wupin, HxsgScenes.index);\r\n        curItemData = null;\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        cc.log(userWuPin.objects)\r\n        var obj = userWuPin.objects;\r\n        cc.log(obj)\r\n        var title = cc.find(\"Canvas/title\");\r\n        var userTitle = cc.find(\"Canvas/book/userTitle\");\r\n        var xiaoGuo = cc.find(\"Canvas/result/xiaoGuo\");\r\n        title.getComponent('cc.Label').string = obj.name\r\n        userTitle.getComponent('cc.Label').string = '使用' + obj.name;\r\n        var urls;\r\n        switch (obj.type1) {\r\n            case '技能':\r\n                xiaoGuo.getComponent('cc.Label').string = '效果:可使玩家或者副将学习技能【' + obj.name + '】';\r\n                urls = HxsgUrl.queryFuJiangJiNengBook;\r\n                break;\r\n            case '技能书':\r\n                xiaoGuo.getComponent('cc.Label').string = '效果:可使玩家或者副将的' + obj.name + '的熟练度增加100';\r\n                urls = HxsgUrl.jiNengShu;\r\n                break;\r\n        }\r\n\r\n        var self = this;\r\n        ajaxData(urls, { \"id\": userWuPin.wupinId }, function (msg) {\r\n            var p = msg.msg;\r\n            if (p.length === 0 || p.length === 'undefined') {\r\n                showAlert('没有可以使用的对象')\r\n                return;\r\n            }\r\n            //alert(p);\r\n            for (var i = 0; i < p.length; i++) {\r\n                var item = cc.instantiate(self.target);\r\n                self.content.addChild(item);\r\n                item.x = 1;\r\n                item.y = -1 * i * item.height;\r\n                item.name = 'userList' + i;\r\n                self.leftContent.height = (i + 1) * item.height + 20;\r\n\r\n                var lab = item.getComponent(\"wuPinList\");\r\n\r\n\r\n                // lab.id.string=p[i].rfid;\r\n                if (i % 2 !== 0) {\r\n                    item.color = new cc.Color(0, 0, 49);\r\n                    console.log(item.color)\r\n                    //lab.Node.Color=\"WHITE\";\r\n                }\r\n                lab.selectBn.name = 'button' + i;\r\n                // var clickEventHandler = new cc.Component.EventHandler();\r\n                // clickEventHandler.target = lab.selectBn.node; //这个 node 节点是你的事件处理代码组件所属的节点\r\n                // clickEventHandler.component ='button0';\r\n                // clickEventHandler.handler = \"skillList\";\r\n                // clickEventHandler.customEventData =p[i].id;\r\n                //wuPin.jinengList=\"10311\"\r\n                //lab.selectBn.id.string=p[i].rfid\r\n                var bn = lab.selectBn;\r\n                cc.log(p[i].rolename)\r\n                cc.log(p[i].name)\r\n                if (typeof (p[i].rolename) == 'undefined') {\r\n                    bn.id = p[i].roleId;\r\n                    lab.msg.string = p[i].name;\r\n                    userWuPin.fuId = p[i].roleId;\r\n                    lab.selectBn.node.on('click', self.showUserBook, self)\r\n                }\r\n                if (typeof (p[i].name) == 'undefined') {\r\n                    bn.id = p[i].rfid;\r\n                    userWuPin.fuId = p[i].rfid;\r\n                    lab.msg.string = p[i].rolename + \"(\" + p[i].roleLevel + \"级)\";\r\n                    lab.selectBn.node.on('click', self.skillList, self)\r\n                }\r\n\r\n                // lab.selectBn.setId(new cc.Label())\r\n\r\n                //lab.selectBn.clickEvents.push(clickEventHandler);\r\n                // console.log (bn.id)\r\n                // console.log(p[i].id)\r\n                //s += \" <p class=\\\"yaoping\\\" style='color:#FFF3AE'>第\" + p[i].id + \"期，开出\" + p[i].num1 + \",\" + p[i].num2 + \",\" + p[i].num3 + \"&nbsp;&nbsp;\" + p[i].result + \"</p>\";\r\n                // var item = cc.instantiate(self.itemPrefab);\r\n                // self.leftContent.addChild(item);\r\n                // item.x = 0;\r\n                // item.y = -1 * i * item.height;\r\n                // item.name = 'history' + i;\r\n                // self.content.height = (i + 1) * item.height;\r\n\r\n                // item = item.getComponent('HistoryItem');\r\n                // var labelStr = \"第\" + p[i].id + \"期，开出\" + p[i].num1 + \",\" + p[i].num2 + \",\" + p[i].num3 + \"\\t\\t\" + p[i].result;\r\n                // item.setMsg(labelStr);\r\n            }\r\n\r\n        });\r\n    },\r\n    returnWuPin: function () {\r\n        cc.log(\"ccccccccc\")\r\n        loadScene(HxsgScenes.wupin, HxsgScenes.index)\r\n\r\n    },\r\n    showUserBook: function (event) {\r\n         let node= event.target\r\n          var button = node.getComponent(cc.Button);\r\n        userWuPin.num = 1;\r\n        userWuPin.id=button.id;\r\n        ajaxData(HxsgUrl.userWuPin, userWuPin, this.tishi);\r\n\r\n    },\r\n    tishi: function (msg) {\r\n        showAlert(msg.msg, self.returnWuPin, self.returnWuPin);\r\n\r\n    },\r\n\r\n    skillList: function (event) {\r\n        //这里 event 是一个 Touch Event 对象，你可以通过 event.target 取到事件的发送节点\r\n\r\n\r\n        //this.node.Scrollview.clearScrollview();\r\n        //   this.cannons = [];\r\n        //     this.cannons = this.node.getChildren();\r\n        // this.node.getChildren()[3].clearScrollview()\r\n        // console.log( this.node.getChildren()[3]) \r\n       let node= event.target\r\n          var button = node.getComponent(cc.Button);\r\n        console.log(button.id)\r\n        var self = this;\r\n        ajaxData(HxsgUrl.userJiNengShu, { \"id\": userWuPin.wupinId, \"status\": button.id}, function (msg) {\r\n            self.content.removeAllChildren();\r\n            var p = msg.msg;\r\n            for (var i = 0; i < p.length; i++) {\r\n                var item = cc.instantiate(self.target);\r\n                self.content.addChild(item);\r\n\r\n                item.x = 1;\r\n                item.y = -1 * i * item.height;\r\n                item.name = 'userList' + i;\r\n                self.leftContent.height = (i + 1) * item.height + 20;\r\n                var lab = item.getComponent(\"wuPinList\");\r\n                lab.msg.string = p[i].skillname;\r\n                var bn = lab.selectBn;\r\n                bn.id = p[i].id;\r\n                //userWuPin.jnId=p[i].id;\r\n                console.log(\"技能ID\" + bn.id);\r\n                if (i % 2 !== 0) {\r\n                    item.color = new cc.Color(0, 0, 49);\r\n                    console.log(item.color)\r\n                    //lab.Node.Color=\"WHITE\";\r\n                }\r\n                lab.selectBn.name = 'button' + i;\r\n                lab.selectBn.node.on('click', self.imputNum, self)\r\n            }\r\n\r\n        });\r\n        // console.log(bn.id)\r\n    },\r\n\r\n    imputNum: function (event) {\r\n        var node = event.target;\r\n\r\n        var button = node.getComponent(cc.Button);\r\n\r\n        userWuPin.jnId = button.id;\r\n        cc.log(button.id)\r\n        cc.director.loadScene('inputNum');\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"
  ]
}