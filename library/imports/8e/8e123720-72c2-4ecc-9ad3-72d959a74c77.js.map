{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "self",
    "PropertyType",
    "cc",
    "Enum",
    "TiZhi",
    "ZhiLi",
    "LiLiang",
    "MinJie",
    "Class",
    "extends",
    "Component",
    "properties",
    "totalPointsLabel",
    "Label",
    "fangyuValueLabel",
    "tizhiMng",
    "Node",
    "zhiliMng",
    "liliangMng",
    "minjieMng",
    "onLoad",
    "loadCommomScence",
    "getComponent",
    "init",
    "msg",
    "fujiang",
    "fjmsg",
    "totalPoints",
    "keyongds",
    "remainPoints",
    "chengzhang",
    "Lv",
    "level",
    "fangyu",
    "chufang",
    "qixueInitValue",
    "chuxue",
    "jingliInitValue",
    "chujing",
    "gongjiInitValue",
    "chugong",
    "suduInitValue",
    "chusu",
    "string",
    "initData",
    "qiXue2",
    "qixueds",
    "jingLi2",
    "jinglids",
    "gongJi",
    "gongJids",
    "suDu",
    "sududs",
    "reset",
    "resetProp",
    "updatePoints",
    "showAlert",
    "data",
    "id",
    "propValue",
    "propTotal",
    "log",
    "ajaxUtils",
    "HxsgUrl",
    "propertyUpdateUrl",
    "onButtonEvent",
    "buttonInteraction",
    "changeRemainPoints",
    "count",
    "getQixue",
    "tizhiPoints",
    "parseInt",
    "getJingli",
    "zhiliPoints",
    "getGongji",
    "liliangPoints",
    "getSudu",
    "minjiePoints",
    "getPropValue",
    "propType",
    "propPoints",
    "backEvent",
    "returnLastScene",
    "HxsgScenes",
    "propertyDeal"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "/**\r\n *  气血=成长*等级*（体质点+气血初值*0.8）\r\n *  精力=成长*等级（智力点+精力初值*0.8）\r\n *  攻击=(等级*成长*攻击初值)/7+攻击初值*成长*0.5+等级*成长*力量点*0.2\r\n *  速度=成长*（速度初值+敏捷点）\r\n *\r\n *  点数分为。。体质，敏捷，智力，力量\r\n *  加点的话，只改变速度，气血，精力，攻击\r\n *\r\n */\r\n\r\nvar self;\r\nvar PropertyType = cc.Enum({\r\n    TiZhi: 1,       //体质\r\n    ZhiLi: 2,       //智力\r\n    LiLiang: 3,     //力量\r\n    MinJie: 4       //敏捷\r\n    // 体质: 1,\r\n    // 智力: 2,\r\n    // 力量: 3,\r\n    // 敏捷: 4,\r\n});\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        totalPointsLabel: cc.Label,\r\n        fangyuValueLabel: cc.Label,\r\n\r\n        tizhiMng: cc.Node,\r\n        zhiliMng: cc.Node,\r\n        liliangMng: cc.Node,\r\n        minjieMng: cc.Node\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        loadCommomScence();\r\n        self = this;\r\n        self.tizhiMng = self.tizhiMng.getComponent('PropertyPoints');\r\n        self.zhiliMng = self.zhiliMng.getComponent('PropertyPoints');\r\n        self.liliangMng = self.liliangMng.getComponent('PropertyPoints');\r\n        self.minjieMng = self.minjieMng.getComponent('PropertyPoints');\r\n           this.init();\r\n        //var data = { 'id': propCheckId };\r\n       // ajaxData(HxsgUrl.propertyUrl, data, self.ajaxCallback);\r\n    },\r\n\r\n \r\n\r\n    /**\r\n     * 根据数据初始化场景页面\r\n     * @param msg\r\n     */\r\n    init: function () {\r\n        //数据赋值\r\n        let msg=fujiang.fjmsg\r\n        self.msg= msg;\r\n        self.totalPoints = msg.keyongds;\r\n        self.remainPoints = self.totalPoints;\r\n        self.chengzhang = msg.chengzhang;\r\n        self.Lv = msg.level;                         //等级\r\n        self.fangyu = msg.chufang;        //防御值\r\n        self.qixueInitValue = msg.chuxue;\r\n        self.jingliInitValue = msg.chujing;\r\n        self.gongjiInitValue = msg.chugong;\r\n        self.suduInitValue = msg.chusu;\r\n\r\n        //Label赋值\r\n        self.totalPointsLabel.string = self.totalPoints;\r\n        self.fangyuValueLabel.string =0;\r\n        self.tizhiMng.initData(msg.qiXue2, msg.qixueds);\r\n        self.zhiliMng.initData(msg.jingLi2, msg.jinglids);\r\n        self.liliangMng.initData(msg.gongJi, msg.gongJids);\r\n        self.minjieMng.initData(msg.suDu, msg.sududs);\r\n    },\r\n\r\n    /**\r\n     * 重置场景页面\r\n     */\r\n    reset: function () {\r\n        self.init(self.msg);\r\n\r\n        //重置各个属性\r\n        self.tizhiMng.resetProp();\r\n        self.zhiliMng.resetProp();\r\n        self.liliangMng.resetProp();\r\n        self.minjieMng.resetProp();\r\n    },\r\n\r\n    /**\r\n     * 提交更改\r\n     */\r\n    updatePoints: function () {\r\n        showAlert('确认提交当前属性点分配吗？', function () {\r\n            var data = {\r\n                id: self.msg.id,\r\n                keyongds: self.remainPoints,\r\n                qiXue2: self.tizhiMng.propValue,\r\n                qixueds: self.tizhiMng.propTotal,\r\n                jingLi2: self.zhiliMng.propValue,\r\n                jinglids: self.zhiliMng.propTotal,\r\n                gongJi: self.liliangMng.propValue,\r\n                gongJids: self.liliangMng.propTotal,\r\n                suDu: self.minjieMng.propValue,\r\n                sududs: self.minjieMng.propTotal\r\n            }\r\n            cc.log(data)\r\n            ajaxUtils(HxsgUrl.propertyUpdateUrl, data)\r\n        }, null);\r\n    },\r\n\r\n    /**\r\n     * 按钮点击后做属性点检查\r\n     */\r\n    onButtonEvent: function () {\r\n\r\n        self.tizhiMng.buttonInteraction();\r\n        self.zhiliMng.buttonInteraction();\r\n        self.liliangMng.buttonInteraction();\r\n        self.minjieMng.buttonInteraction();\r\n    },\r\n\r\n    /**\r\n     * 计算操作后的剩余属性点的值\r\n     * @param count\r\n     */\r\n    changeRemainPoints: function (count) {\r\n        this.remainPoints -= count;\r\n        if (this.remainPoints < 0) this.remainPoints = 0;\r\n        this.totalPointsLabel.string = this.remainPoints;\r\n    },\r\n\r\n    /**\r\n     * 计算各个属性的属性值\r\n     * @returns {Number}\r\n     */\r\n    getQixue: function (tizhiPoints) {\r\n        return parseInt(self.chengzhang * self.Lv * (tizhiPoints + self.qixueInitValue * 0.8));\r\n    },\r\n    getJingli: function (zhiliPoints) {\r\n        return parseInt(self.chengzhang * self.Lv * (zhiliPoints + self.jingliInitValue * 0.8));\r\n    },\r\n    getGongji: function (liliangPoints) {\r\n        return parseInt((self.Lv * self.chengzhang * self.gongjiInitValue) / 7 + self.gongjiInitValue * self.chengzhang * 0.5 + self.Lv * self.chengzhang * liliangPoints * 0.2);\r\n    },\r\n    getSudu: function (minjiePoints) {\r\n        return parseInt(self.chengzhang * (self.suduInitValue + minjiePoints));\r\n    },\r\n\r\n    /**\r\n     * 根据属性点计算属性的属性值\r\n     * @param propType\r\n     * @param propPoints\r\n     * @returns {boolean}\r\n     */\r\n    getPropValue: function (propType, propPoints) {\r\n        var propValue = 0;\r\n        switch (propType) {\r\n            case PropertyType.TiZhi:\r\n                propValue = this.getQixue(propPoints);\r\n                break;\r\n            case PropertyType.ZhiLi:\r\n                propValue = this.getJingli(propPoints);\r\n                break;\r\n            case PropertyType.LiLiang:\r\n                propValue = this.getGongji(propPoints);\r\n                break;\r\n            case PropertyType.MinJie:\r\n                propValue = this.getSudu(propPoints);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return propValue;\r\n    },\r\n\r\n    backEvent: function () {\r\n        returnLastScene(HxsgScenes.propertyDeal);\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"
  ]
}