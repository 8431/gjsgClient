{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "window",
    "curItemData",
    "currentWupin",
    "self",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "kshuifuPrefab",
    "Prefab",
    "yaopinPrefab",
    "zhuangbeiPrefab",
    "kuangshiPrefab",
    "zawuPrefab",
    "content",
    "Node",
    "title",
    "Label",
    "fuzhong",
    "menu",
    "default",
    "type",
    "Button",
    "onLoad",
    "loadCommomScence",
    "clearScrollview",
    "yaopinEvent",
    "zhuangbeiEvent",
    "kuangshiEvent",
    "zawuEvent",
    "kshuifuEvent",
    "log",
    "backEvent",
    "returnLast",
    "myZhuangBeiEvent",
    "loadingScene",
    "HxsgScenes",
    "myZhuangBei",
    "wupin",
    "string",
    "interactable",
    "kshuifu",
    "instantiate",
    "addChild",
    "kshuifuButton",
    "getChildByName",
    "on",
    "EventType",
    "TOUCH_END",
    "initYaopin",
    "data",
    "ajaxData",
    "HxsgUrl",
    "zhuangbeiUrl",
    "initZhuangbei",
    "msg",
    "i",
    "length",
    "itemMsg",
    "item",
    "comp",
    "getComponentInChildren",
    "initZhuangbeiItem",
    "height",
    "kuangshiUrl",
    "initKuangshi",
    "initKuangshiItem",
    "zawuUrl",
    "initZawu",
    "initZawuItem",
    "zawuItemEvent",
    "e",
    "type1",
    "userWuPin",
    "wupinId",
    "id",
    "objects",
    "loadScene",
    "userJiangJunLing",
    "userList",
    "userXinFaShu",
    "userMineral",
    "removeAllChildren",
    "tiShi",
    "showAlert"
  ],
  "mappings": ";;AAAAA,OAAOC,WAAP,GAAqB,IAArB;AACAD,OAAOE,YAAP,GAAsB,CAAtB;AACA,IAAIC,IAAJ;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,uBAAeL,GAAGM,MADV;AAERC,sBAAcP,GAAGM,MAFT;AAGRE,yBAAiBR,GAAGM,MAHZ;AAIRG,wBAAgBT,GAAGM,MAJX;AAKRI,oBAAYV,GAAGM,MALP;;AAORK,iBAASX,GAAGY,IAPJ;AAQRC,eAAOb,GAAGc,KARF;AASRC,iBAASf,GAAGc,KATJ;AAURE,cAAM;AACFC,qBAAS,EADP;AAEFC,kBAAMlB,GAAGmB;AAFP;AAVE,KAHP;;AAmBL;AACAC,YAAQ,kBAAY;AAChBrB,eAAO,IAAP;AACNsB;AACM,aAAKC,eAAL;;AAEA,gBAAQxB,YAAR;AACI,iBAAK,CAAL;AACI,qBAAKyB,WAAL;AACA;AACJ,iBAAK,CAAL;AACI,qBAAKC,cAAL;AACA;AACJ,iBAAK,CAAL;AACI,qBAAKC,aAAL;AACA;AACJ,iBAAK,CAAL;AACI,qBAAKC,SAAL;AACA;AACJ;AACI,qBAAKH,WAAL;AACA;AAfR;AAkBH,KA3CI;;AA6CL;;;AAGAI,kBAAc,wBAAY;AACtB3B,WAAG4B,GAAH,CAAO,qBAAP;AACH,KAlDI;;AAoDL;;;AAGAC,eAAW,qBAAY;AACnB;AACDC;AACCjC,sBAAc,IAAd;AACH,KA3DI;AA4DLkC,sBAAkB,4BAAY;AAC1B;AACFC,qBAAaC,WAAWC,WAAxB,EAAoCD,WAAWE,KAA/C;AACD,KA/DI;AAgEL;;;AAGAZ,iBAAa,uBAAY;AACrBvB,WAAG4B,GAAH,CAAO,mBAAP;AACA,aAAKf,KAAL,CAAWuB,MAAX,GAAoB,IAApB;AACA,aAAKd,eAAL;AACA,aAAKN,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,IAAvC;AACAvC,uBAAe,CAAf;AACA,aAAKkB,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,KAAvC;;AAEA,YAAIC,UAAUtC,GAAGuC,WAAH,CAAe,KAAKlC,aAApB,CAAd;AACA,aAAKM,OAAL,CAAa6B,QAAb,CAAsBF,OAAtB;AACA,aAAKG,aAAL,GAAqBH,QAAQI,cAAR,CAAuB,UAAvB,CAArB;AACA,aAAKD,aAAL,CAAmBE,EAAnB,CAAsB3C,GAAGY,IAAH,CAAQgC,SAAR,CAAkBC,SAAxC,EAAmD,YAAY;AAC3D;AACA7C,eAAG4B,GAAH,CAAO,wBAAP;AACH,SAHD;;AAKA;AACH,KApFI;;AAsFLkB,gBAAY,oBAAUC,IAAV,EAAgB;AACxB,YAAGjD,gBAAgBiD,KAAK7B,IAAxB,EAA8B;;AAE9B;AACH,KA1FI;;AA4FL;;;AAGAM,oBAAgB,0BAAY;AACxBxB,WAAG4B,GAAH,CAAO,mBAAP;AACA,aAAKf,KAAL,CAAWuB,MAAX,GAAoB,IAApB;AACA,aAAKd,eAAL;AACA,aAAKN,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,IAAvC;AACAvC,uBAAe,CAAf;AACA,aAAKkB,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,KAAvC;;AAEAW,iBAASC,QAAQC,YAAjB,EAA8B,IAA9B,EAAoC,KAAKC,aAAzC;AACH,KAxGI;;AA0GLA,mBAAe,uBAAUJ,IAAV,EAAgB;AAC3B,YAAGjD,gBAAgBiD,KAAK7B,IAAxB,EAA8B;;AAE9B,YAAIkC,MAAML,KAAKK,GAAf;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,IAAIE,MAAxB,EAAgCD,GAAhC,EAAqC;AACjC,gBAAIE,UAAUH,IAAIC,CAAJ,CAAd;AACA,gBAAIG,OAAOxD,GAAGuC,WAAH,CAAexC,KAAKS,eAApB,CAAX;AACAT,iBAAKY,OAAL,CAAa6B,QAAb,CAAsBgB,IAAtB;AACA,gBAAIC,OAAOD,KAAKE,sBAAL,CAA4B,WAA5B,CAAX;AACAD,iBAAKE,iBAAL,CAAuBN,CAAvB,EAA0B,WAA1B,EAAuCE,OAAvC;AAEH;AACDxD,aAAKY,OAAL,CAAaiD,MAAb,GAAsBR,IAAIE,MAAJ,GAAa,EAAnC;AACH,KAvHI;;AAyHL;;;AAGA7B,mBAAe,yBAAY;AACvBzB,WAAG4B,GAAH,CAAO,mBAAP;AACA,aAAKf,KAAL,CAAWuB,MAAX,GAAoB,IAApB;AACA,aAAKd,eAAL;AACA,aAAKN,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,IAAvC;AACAvC,uBAAe,CAAf;AACA,aAAKkB,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,KAAvC;;AAEAW,iBAASC,QAAQY,WAAjB,EAA8B,IAA9B,EAAmC,KAAKC,YAAxC;AACH,KArII;;AAuILA,kBAAc,sBAAUf,IAAV,EAAgB;AAC1B,YAAGjD,gBAAgBiD,KAAK7B,IAAxB,EAA8B;;AAE9B,YAAIkC,MAAML,KAAKK,GAAf;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,IAAIE,MAAxB,EAAgCD,GAAhC,EAAqC;AACjC,gBAAIG,OAAOxD,GAAGuC,WAAH,CAAexC,KAAKU,cAApB,CAAX;AACAV,iBAAKY,OAAL,CAAa6B,QAAb,CAAsBgB,IAAtB;AACA,gBAAIC,OAAOD,KAAKE,sBAAL,CAA4B,WAA5B,CAAX;AACA,gBAAIH,UAAUH,IAAIC,CAAJ,CAAd;AACAI,iBAAKM,gBAAL,CAAsBV,CAAtB,EAAyB,UAAzB,EAAqCE,OAArC;AACH;AACDxD,aAAKY,OAAL,CAAaiD,MAAb,GAAsBR,IAAIE,MAAJ,GAAa,EAAnC;AACH,KAnJI;;AAqJL;;;AAGA5B,eAAW,qBAAY;AACnB1B,WAAG4B,GAAH,CAAO,mBAAP;AACA,aAAKf,KAAL,CAAWuB,MAAX,GAAoB,IAApB;AACA,aAAKd,eAAL;AACA,aAAKN,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,IAAvC;AACAvC,uBAAe,CAAf;AACA,aAAKkB,IAAL,CAAUlB,YAAV,EAAwBuC,YAAxB,GAAuC,KAAvC;;AAEAW,iBAASC,QAAQe,OAAjB,EAAyB,IAAzB,EAA+B,KAAKC,QAApC;AACH,KAjKI;;AAmKLA,cAAU,kBAAUlB,IAAV,EAAgB;AACtB,YAAGjD,gBAAgBiD,KAAK7B,IAAxB,EAA8B;;AAE9B,YAAIkC,MAAML,KAAKK,GAAf;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,IAAIE,MAAxB,EAAgCD,GAAhC,EAAqC;AACjC,gBAAG;AACE,oBAAIE,UAAUH,IAAIC,CAAJ,CAAd;AACL,oBAAIG,OAAOxD,GAAGuC,WAAH,CAAexC,KAAKW,UAApB,CAAX;AACAX,qBAAKY,OAAL,CAAa6B,QAAb,CAAsBgB,IAAtB;AACA,oBAAIC,OAAOD,KAAKE,sBAAL,CAA4B,WAA5B,CAAX;AACAD,qBAAKS,YAAL,CAAkBb,CAAlB,EAAqB,MAArB,EAA6BE,OAA7B,EAAqCxD,KAAKoE,aAA1C,EAAwDZ,OAAxD;AACC,aAND,CAMC,OAAMa,CAAN,EAAQ,CAER;AAGJ;AACDrE,aAAKY,OAAL,CAAaiD,MAAb,GAAsBR,IAAIE,MAAJ,GAAa,EAAnC;AACH,KArLI;;AAuLLa,mBAAe,uBAASpB,IAAT,EAAc;AAC1B,YAAI7B,OAAM6B,KAAKsB,KAAf;AACAC,kBAAUC,OAAV,GAAkBxB,KAAKyB,EAAvB;AACAF,kBAAUG,OAAV,GAAkB1B,IAAlB;AACA/C,WAAG4B,GAAH,CAAO0C,UAAUC,OAAjB;AACA,YAAGrD,QAAM,GAAT,EAAa;AACRlB,eAAG4B,GAAH,CAAO,GAAP;AACJ8C,sBAAUzC,WAAW0C,gBAArB,EAAuC1C,WAAWE,KAAlD;AACA;AACD,YAAGjB,QAAM,KAAN,IAAaA,QAAM,IAAtB,EAA2B;AACvBlB,eAAG4B,GAAH,CAAO,KAAP;AACA8C,sBAAUzC,WAAW2C,QAArB,EAA+B3C,WAAWE,KAA1C;AACH;AACD,YAAGjB,QAAM,KAAT,EAAe;AACXlB,eAAG4B,GAAH,CAAO,KAAP;AACA8C,sBAAUzC,WAAW4C,YAArB,EAAmC5C,WAAWE,KAA9C;AACH;AACA,YAAGjB,QAAM,GAAT,EAAa;AACVlB,eAAG4B,GAAH,CAAO,KAAP;AACA7B,iBAAK+E,WAAL;AACH;AAEH,KA7MI;AA8MLxD,qBAAiB,2BAAY;AACzB,aAAKX,OAAL,CAAaoE,iBAAb;AACH,KAhNI;AAiNLD,iBAAY,uBAAU;AAChB9E,WAAG4B,GAAH,CAAO,UAAS0C,UAAUC,OAA1B;AACDvB,iBAASC,QAAQ6B,WAAjB,EAA6B,EAAC,MAAKR,UAAUC,OAAhB,EAAwB,OAAM,GAA9B,EAA7B,EAAgExE,KAAKiF,KAArE;AAEJ,KArNI;AAsNLA,WAAM,eAASjC,IAAT,EAAc;AAChB/C,WAAG4B,GAAH,CAAOmB,IAAP;AACAkC,kBAAUlC,KAAKK,GAAf;AACH;;AAzNI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "window.curItemData = null;\r\nwindow.currentWupin = 0;\r\nvar self;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        kshuifuPrefab: cc.Prefab,\r\n        yaopinPrefab: cc.Prefab,\r\n        zhuangbeiPrefab: cc.Prefab,\r\n        kuangshiPrefab: cc.Prefab,\r\n        zawuPrefab: cc.Prefab,\r\n\r\n        content: cc.Node,\r\n        title: cc.Label,\r\n        fuzhong: cc.Label,\r\n        menu: {\r\n            default: [],\r\n            type: cc.Button\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        self = this;\r\n  loadCommomScence();\r\n        this.clearScrollview();\r\n\r\n        switch (currentWupin){\r\n            case 0:\r\n                this.yaopinEvent();\r\n                break;\r\n            case 1:\r\n                this.zhuangbeiEvent();\r\n                break;\r\n            case 2:\r\n                this.kuangshiEvent();\r\n                break;\r\n            case 3:\r\n                this.zawuEvent();\r\n                break;\r\n            default:\r\n                this.yaopinEvent();\r\n                break;\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * 点击事件-->快速恢复\r\n     */\r\n    kshuifuEvent: function () {\r\n        cc.log('wupin mananger 快速恢复');\r\n    },\r\n\r\n    /**\r\n     * 点击事件-->返回\r\n     */\r\n    backEvent: function () {\r\n        //调用通用的返回上一场景方法\r\n       returnLast()\r\n        curItemData = null;\r\n    },\r\n    myZhuangBeiEvent: function () {\r\n        //调用通用的返回上一场景方法\r\n      loadingScene(HxsgScenes.myZhuangBei,HxsgScenes.wupin);\r\n    },\r\n    /**\r\n     * -->药品\r\n     */\r\n    yaopinEvent: function () {\r\n        cc.log('wupin mananger 药品');\r\n        this.title.string = '药品';\r\n        this.clearScrollview();\r\n        this.menu[currentWupin].interactable = true;\r\n        currentWupin = 0;\r\n        this.menu[currentWupin].interactable = false;\r\n\r\n        var kshuifu = cc.instantiate(this.kshuifuPrefab);\r\n        this.content.addChild(kshuifu);\r\n        this.kshuifuButton = kshuifu.getChildByName('huifuBtn');\r\n        this.kshuifuButton.on(cc.Node.EventType.TOUCH_END, function () {\r\n            //TODO快速恢复\r\n            cc.log('wupin mananger 药品 快速恢复');\r\n        });\r\n\r\n        // ajax(HxsgUrl.yaopinUrl, this.initYaopin);\r\n    },\r\n\r\n    initYaopin: function (data) {\r\n        if(currentWupin != data.type) return;\r\n\r\n        // this.content.height = (msg.length + 1) * 65;\r\n    },\r\n\r\n    /**\r\n     * -->装备\r\n     */\r\n    zhuangbeiEvent: function () {\r\n        cc.log('wupin mananger 装备');\r\n        this.title.string = '装备';\r\n        this.clearScrollview();\r\n        this.menu[currentWupin].interactable = true;\r\n        currentWupin = 1;\r\n        this.menu[currentWupin].interactable = false;\r\n\r\n        ajaxData(HxsgUrl.zhuangbeiUrl,null, this.initZhuangbei);\r\n    },\r\n\r\n    initZhuangbei: function (data) {\r\n        if(currentWupin != data.type) return;\r\n        \r\n        var msg = data.msg\r\n        for (var i = 0; i < msg.length; i++) {\r\n            var itemMsg = msg[i];\r\n            var item = cc.instantiate(self.zhuangbeiPrefab);\r\n            self.content.addChild(item);\r\n            var comp = item.getComponentInChildren('WupinItem');\r\n            comp.initZhuangbeiItem(i, 'zhuangbei', itemMsg);\r\n            \r\n        }\r\n        self.content.height = msg.length * 65;\r\n    },\r\n\r\n    /**\r\n     * -->矿石\r\n     */\r\n    kuangshiEvent: function () {\r\n        cc.log('wupin mananger 矿石');\r\n        this.title.string = '矿石';\r\n        this.clearScrollview();\r\n        this.menu[currentWupin].interactable = true;\r\n        currentWupin = 2;\r\n        this.menu[currentWupin].interactable = false;\r\n\r\n        ajaxData(HxsgUrl.kuangshiUrl, null,this.initKuangshi);\r\n    },\r\n    \r\n    initKuangshi: function (data) {\r\n        if(currentWupin != data.type) return;\r\n        \r\n        var msg = data.msg;\r\n        for (var i = 0; i < msg.length; i++) {\r\n            var item = cc.instantiate(self.kuangshiPrefab);\r\n            self.content.addChild(item);\r\n            var comp = item.getComponentInChildren('WupinItem');\r\n            var itemMsg = msg[i];\r\n            comp.initKuangshiItem(i, 'kuangshi', itemMsg);\r\n        }\r\n        self.content.height = msg.length * 65;\r\n    },\r\n\r\n    /**\r\n     * -->杂物\r\n     */\r\n    zawuEvent: function () {\r\n        cc.log('wupin mananger 杂物');\r\n        this.title.string = '杂物';\r\n        this.clearScrollview();\r\n        this.menu[currentWupin].interactable = true;\r\n        currentWupin = 3;\r\n        this.menu[currentWupin].interactable = false;\r\n\r\n        ajaxData(HxsgUrl.zawuUrl,null, this.initZawu);\r\n    },\r\n\r\n    initZawu: function (data) {\r\n        if(currentWupin != data.type) return;\r\n        \r\n        var msg = data.msg\r\n        for (var i = 0; i < msg.length; i++) {\r\n            try{\r\n                 var itemMsg = msg[i];\r\n            var item = cc.instantiate(self.zawuPrefab);\r\n            self.content.addChild(item);\r\n            var comp = item.getComponentInChildren('WupinItem');\r\n            comp.initZawuItem(i, 'zawu', itemMsg,self.zawuItemEvent,itemMsg);\r\n            }catch(e){\r\n                \r\n            }\r\n           \r\n          \r\n        }\r\n        self.content.height = msg.length * 65;\r\n    },\r\n\r\n    zawuItemEvent: function(data){\r\n       var type= data.type1;\r\n       userWuPin.wupinId=data.id;\r\n       userWuPin.objects=data;\r\n       cc.log(userWuPin.wupinId)\r\n       if(type=='令'){\r\n            cc.log('令')\r\n        loadScene(HxsgScenes.userJiangJunLing, HxsgScenes.wupin);\r\n       }\r\n       if(type=='技能书'||type=='技能'){\r\n           cc.log('技能书')\r\n           loadScene(HxsgScenes.userList, HxsgScenes.wupin);\r\n       }\r\n       if(type=='心法书'){\r\n           cc.log('心法书')\r\n           loadScene(HxsgScenes.userXinFaShu, HxsgScenes.wupin);\r\n       }\r\n        if(type=='石'){\r\n           cc.log('砸矿石')\r\n           self.userMineral();\r\n       }\r\n     \r\n    },\r\n    clearScrollview: function () {\r\n        this.content.removeAllChildren();\r\n    },\r\n    userMineral:function(){\r\n          cc.log('data:'+ userWuPin.wupinId)\r\n         ajaxData(HxsgUrl.userMineral,{'id':userWuPin.wupinId,'num':'1'},self.tiShi);\r\n        \r\n    },\r\n    tiShi:function(data){\r\n        cc.log(data)\r\n        showAlert(data.msg);\r\n    }\r\n\r\n});\r\n\r\n"
  ]
}