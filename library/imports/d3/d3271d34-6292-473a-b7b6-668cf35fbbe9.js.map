{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "self",
    "playJs",
    "require",
    "status",
    "pkWait",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "playPrefab",
    "Prefab",
    "onLoad",
    "load",
    "py",
    "pkStateMachine",
    "toStart",
    "loading",
    "find",
    "active",
    "result",
    "pk",
    "rightPlay",
    "Array",
    "leftPlay",
    "loader",
    "loadRes",
    "err",
    "prefab",
    "p2",
    "player2",
    "p1",
    "player1",
    "play1",
    "play2",
    "jn",
    "i",
    "push",
    "id",
    "instantiate",
    "name",
    "play1Js",
    "getComponent",
    "attackHide",
    "x",
    "y",
    "num",
    "parseInt",
    "log",
    "setPosition",
    "director",
    "getScene",
    "addChild",
    "m",
    "play2Js",
    "attackShow",
    "flipYAction",
    "flipX",
    "runAction",
    "e",
    "index",
    "preloadScene",
    "loadScene",
    "attack",
    "type",
    "rightShow",
    "clickStatus",
    "role",
    "getChildByName",
    "button",
    "getComponentInChildren",
    "Button",
    "playerClickEvent",
    "p",
    "getPkRoleMsg",
    "jineng",
    "onloading",
    "leftShow",
    "left",
    "sccen",
    "child",
    "right",
    "back",
    "event",
    "node",
    "target",
    "playPkAnimation",
    "PkAnimation",
    "animationTest",
    "JnAnimation",
    "msg",
    "background",
    "seq",
    "attackType",
    "direction",
    "color",
    "Color",
    "sequence",
    "moveTo",
    "easing",
    "easeCubicActionOut",
    "jinengLoad",
    "animationDanClose",
    "alertImg",
    "loadingScene",
    "HxsgScenes"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var self;\r\nvar playJs = require(\"playerItem\");\r\n\r\n/**\r\n * PK动画播放有限状态机\r\n */\r\n\r\nvar status;\r\n\r\n// var pkStateMachine = new StateMachine({\r\n//     data: {\r\n//         battle: null,\r\n//     },\r\n//     transitions: [\r\n//         { name: 'toStart', from: 'none', to: 'start' },\r\n//         { name: 'toShifa', from: 'start', to: 'shifa' },\r\n//         { name: 'toMoveBackGround', from: 'shifa', to: 'backgorund' },\r\n//         { name: 'toSkill', from: 'backgorund', to: 'skill' },\r\n//         { name: 'finshed', from: 'skill', to: 'end' },\r\n//         { name: 'end', from: 'end', to: 'start' }\r\n//     ],\r\n//     methods: {\r\n//         onToShifa() {\r\n\r\n\r\n\r\n//         },\r\n//         onToMoveBackGround() {\r\n\r\n//         },\r\n\r\n//         onToSkill() {\r\n\r\n//         },\r\n\r\n//         onFinshed() {\r\n\r\n//         },\r\n//         onEnd() {\r\n\r\n//         },\r\n//     }\r\n// });\r\nvar pkWait = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        playPrefab: cc.Prefab,\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        self = this;\r\n        pkWait.load = this;\r\n        var py = new playJs();\r\n        var pkStateMachine = py.pkStateMachine;\r\n        pkStateMachine.toStart();\r\n        // this.back();\r\n        //this.loading();\r\n    },\r\n    loading: function () {\r\n        cc.find(\"Canvas/jineng\").active = false;\r\n\r\n        var result = {\r\n            'player1': [\r\n                {\r\n                    'name': '黄月英',\r\n                    'id': '1002',\r\n                    'qixue': '2123',\r\n                    'jingli': '21210',\r\n                    'sudu': '1',\r\n                    'jineng': [\r\n                        {\r\n                            'name': '舍命一击',\r\n                            'type': '1',\r\n                            'status': 'left'\r\n                        },\r\n                        {\r\n                            'name': '力劈华山',\r\n                            'type': '1',\r\n                            'status': 'left'\r\n                        },\r\n                        {\r\n                            'name': '气冲斗牛',\r\n                            'type': '1',\r\n                            'status': 'right'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    'name': '黄月英',\r\n                    'id': '1003',\r\n                    'qixue': '21210',\r\n                    'jingli': '20',\r\n                    'sudu': '1',\r\n                    'jineng': [\r\n                        {\r\n                            'name': '五雷轰顶',\r\n                            'type': '1',\r\n                            'status': 'left'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    'name': '黄月英',\r\n                    'id': '1004',\r\n                    'qixue': '3130',\r\n                    'jingli': '0',\r\n                    'sudu': '1',\r\n                },\r\n                {\r\n                    'name': '黄月英',\r\n                    'id': '1005',\r\n                    'qixue': '0',\r\n                    'jingli': '0',\r\n                    'sudu': '1',\r\n                }\r\n            ],\r\n            'player2': [\r\n                {\r\n                    'name': '咕叽',\r\n                    'id': '1032',\r\n                    'qixue': '0',\r\n                    'jingli': '0',\r\n                    'sudu': '1',\r\n                    'jineng': [\r\n                        {\r\n                            'name': '舍命一击',\r\n                            'type': '1',\r\n                            'status': 'left'\r\n                        },\r\n                        {\r\n                            'name': '力劈华山',\r\n                            'type': '1',\r\n                            'status': 'left'\r\n                        },\r\n                        {\r\n                            'name': '气冲斗牛',\r\n                            'type': '1',\r\n                            'status': 'right'\r\n                        },\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    'name': '黄月英',\r\n                    'id': '10077',\r\n                    'qixue': '21210',\r\n                    'jingli': '20',\r\n                    'sudu': '1',\r\n                    'jineng': [\r\n                        {\r\n                            'name': '五雷轰顶',\r\n                            'type': '1',\r\n                            'status': 'left'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    'name': '舞女',\r\n                    'id': '1062',\r\n                    'qixue': '0',\r\n                    'jingli': '0',\r\n                    'sudu': '1',\r\n                },\r\n                {\r\n                    'name': '舞女',\r\n                    'id': '1006',\r\n                    'qixue': '0',\r\n                    'jingli': '0',\r\n                    'sudu': '1',\r\n                }\r\n            ]\r\n        };\r\n\r\n        try {\r\n            //初始化右边玩家数组\r\n            pk.rightPlay = new Array();\r\n            //初始化右边玩家数组\r\n            pk.leftPlay = new Array();\r\n            cc.loader.loadRes('pk/player', cc.Prefab, function (err, prefab) {\r\n                if (!err) {\r\n                    var p2 = result.player2;\r\n                    var p1 = result.player1;\r\n                    pk.play1 = p1;\r\n                    pk.play2 = p2;\r\n                    pk.jn = '普通攻击'\r\n\r\n                    for (var i in p1) {\r\n                        pk.leftPlay.push(p1[i].id);\r\n                        var play1 = cc.instantiate(prefab);\r\n                        play1.id = p1[i].id;\r\n                        play1.name = p1[i].id;\r\n\r\n                        var play1Js = play1.getComponent(\"playerItem\");\r\n                        play1Js.attackHide();\r\n                        play1.id = i;\r\n                        var x = 0;\r\n                        var y = 740 - i * 70;\r\n                        var num = parseInt(i) + parseInt(1);\r\n                        cc.log(num)\r\n                        if (num % 2 == 0) {\r\n                            x = 170;\r\n                        } else {\r\n                            x = 100;\r\n                        }\r\n\r\n                        play1.setPosition(x, y)\r\n                        cc.director.getScene().addChild(play1);\r\n\r\n\r\n                    }\r\n\r\n                    for (var m in p2) {\r\n                        pk.rightPlay.push(p2[m].id);\r\n\r\n                        var play2 = cc.instantiate(prefab);\r\n\r\n                        var play2Js = play2.getComponent(\"playerItem\");\r\n                        if (m == 0) {\r\n                            play2Js.attackShow();\r\n\r\n\r\n                        } else {\r\n                            play2Js.attackHide();\r\n                        }\r\n\r\n\r\n                        var flipYAction = cc.flipX(true);\r\n                        play2.runAction(flipYAction);\r\n                        play2.name = p2[m].id;\r\n                        var x = 0;\r\n                        var y = 740 - m * 70;\r\n                        var num = parseInt(m) + parseInt(1);\r\n                        cc.log(num)\r\n                        if (num % 2 == 0) {\r\n                            x = 650;\r\n                        } else {\r\n                            x = 560;\r\n                        }\r\n\r\n                        play2.setPosition(x, y)\r\n                        cc.director.getScene().addChild(play2);\r\n\r\n\r\n                    }\r\n\r\n\r\n                }\r\n            })\r\n\r\n        } catch (e) {\r\n            cc.log(\"初始化pk界面异常:\" + e)\r\n        }\r\n\r\n\r\n\r\n    },\r\n    index: function () {\r\n        loading();\r\n        cc.director.preloadScene('indexhg', function () {\r\n\r\n            cc.log('Next scene index');\r\n\r\n            cc.director.loadScene('indexhg');\r\n\r\n\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n    /**\r\n     * 指令函数\r\n     * param e 事件对象\r\n     * param num 区分按钮类型\r\n     * param type 区分攻击类型\r\n     * param status 区分左右角色\r\n     */\r\n    attack: function (e, num, type, status) {\r\n        var name;\r\n        try {\r\n            switch (num) {\r\n                //攻击指令\r\n                case 'gj': {\r\n                    cc.log(type)\r\n                    if (typeof (type) == 'undefined' || type == null || type == '') {\r\n                        pk.jn = '普通攻击';\r\n                    }\r\n                    cc.log(\"攻击\")\r\n                    cc.find(\"Canvas/zhiling\").active = false;\r\n                    cc.find(\"Canvas/roleDetail\").active = true;\r\n                    if (status == 'left' || typeof (status) == 'undefined') {\r\n                        name = pk.leftPlay[0];\r\n                        this.rightShow();\r\n                    } else if (status == 'right') {\r\n                        name = pk.rightPlay[0];\r\n                    }\r\n\r\n\r\n                    pk.clickStatus = true;\r\n                    // this.leftShow(name)\r\n                    var role = cc.director.getScene().getChildByName(name)\r\n\r\n                    var button = role.getComponentInChildren(cc.Button);\r\n                    playJs.load.playerClickEvent(role);\r\n\r\n\r\n                    break;\r\n                }\r\n                //技能指令\r\n                case 'jn': {\r\n                    cc.log(\"技能\")\r\n                    var p = getPkRoleMsg(pk.rightPlay[0], 2);\r\n                    var jn = p.jineng;\r\n                    cc.log(jn[0].name)\r\n                    cc.find(\"Canvas/zhiling\").active = false;\r\n                    cc.log(\"初始化技能列表\")\r\n                    var jineng = cc.find(\"Canvas/jineng\");\r\n                    jineng.active = true;\r\n                    cc.find(\"Canvas/jineng/detail/scrollview/view/content\").getComponent('pkJnContent').onloading();\r\n\r\n\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n        } catch (e) {\r\n            cc.log('加载技能列表异常:' + e)\r\n        }\r\n\r\n\r\n    },\r\n    leftShow: function (num) {\r\n        var left = pk.leftPlay;\r\n        var sccen = cc.director.getScene()\r\n\r\n        for (var i in left) {\r\n            var child = sccen.getChildByName(left[i]);\r\n            if (num != left[i]) {\r\n                child.getComponent(\"playerItem\").attackHide();\r\n            } else {\r\n                child.getComponent(\"playerItem\").attackShow();\r\n            }\r\n\r\n\r\n        }\r\n\r\n    },\r\n    rightShow: function () {\r\n        var right = pk.rightPlay;\r\n        var child = cc.director.getScene().getChildByName(right[0]);\r\n        child.getComponent(\"playerItem\").attackHide();\r\n    },\r\n    back: function () {\r\n        pk.status = null;\r\n        cc.find(\"Canvas/zhiling\").active = true;\r\n        cc.find(\"Canvas/roleDetail\").active = false;\r\n        var left = pk.leftPlay;\r\n        for (var i in left) {\r\n            var child = cc.director.getScene().getChildByName(left[i]);\r\n            child.getComponent(\"playerItem\").attackHide();\r\n        }\r\n        var right = pk.rightPlay;\r\n\r\n        for (var m in right) {\r\n            var child = cc.director.getScene().getChildByName(right[m]);\r\n            if (m == 0) {\r\n                child.getComponent(\"playerItem\").attackShow();\r\n            } else {\r\n                child.getComponent(\"playerItem\").attackHide();\r\n            }\r\n\r\n        }\r\n\r\n\r\n    },\r\n    playerClickEvent: function (event) {\r\n        var node = event.target;\r\n        cc.log(node.name);\r\n    },\r\n    /**\r\n     * 接收服务器返回数据播放动画\r\n     */\r\n    playPkAnimation: function () {\r\n        PkAnimation();\r\n    },\r\n    animationTest: function () {\r\n        //this.playPkAnimation()\r\n        //     var background = cc.find(\"Canvas/background\");\r\n        //     var seq;\r\n        //     if (status == 1) {\r\n        //         seq = cc.sequence(cc.moveTo(1, cc.p(0, 137)).easing(cc.easeCubicActionOut(1)));\r\n        //         background.color = new cc.Color(245, 245, 245);\r\n\r\n        //         status = null;\r\n        //     } else {\r\n        //         seq = cc.sequence(cc.moveTo(1, cc.p(200, 137)).easing(cc.easeCubicActionOut(1)));\r\n        //         background.color = new cc.Color(0, 0, 0);\r\n        //         //对应技能动画\r\n        //         //五雷轰顶\r\n\r\n        //         status = 1;\r\n        //     }\r\n\r\n\r\n\r\n        //     background.runAction(seq);\r\n        //   jinengLoad('wanjian',background);\r\n\r\n\r\n\r\n    },\r\n    JnAnimation: function (msg) {\r\n        var background = cc.find(\"Canvas/background\");\r\n        var seq;\r\n        var x = 0;\r\n        if ('left' == msg.msg.attackType.direction) {\r\n            x = 200;\r\n            background.color = new cc.Color(0, 0, 0);\r\n        } else {\r\n            x = -200;\r\n        }\r\n        seq = cc.sequence(cc.moveTo(1, cc.p(x, 137)).easing(cc.easeCubicActionOut(1)));\r\n\r\n\r\n\r\n\r\n        // seq = cc.sequence(cc.moveTo(1, cc.p(x, 137)).easing(cc.easeCubicActionOut(1)));\r\n        // background.color = new cc.Color(0, 0, 0);\r\n        background.runAction(seq);\r\n        jinengLoad(msg, background, null);\r\n\r\n\r\n\r\n    },\r\n    animationDanClose: function (event) {\r\n\r\n        var background = cc.find(\"Canvas/background\");\r\n        background.getChildByName(\"dan\").active = false;\r\n        this.animationTest();\r\n\r\n    },\r\n    alertImg:function(){\r\n         loadingScene(HxsgScenes.index,HxsgScenes.index)\r\n\r\n    }\r\n});\r\n"
  ]
}