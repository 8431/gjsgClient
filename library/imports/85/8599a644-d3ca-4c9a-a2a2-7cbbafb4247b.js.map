{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "data",
    "default",
    "visible",
    "onLoad",
    "clickNameEvent",
    "log",
    "roleMsg",
    "id",
    "roleid",
    "loadingScene",
    "HxsgScenes",
    "friendInfo",
    "index",
    "setMsg",
    "time",
    "dateToTime",
    "node",
    "getComponent",
    "RichText",
    "string",
    "buildRichText",
    "rolename",
    "message",
    "richTextImage",
    "img",
    "name",
    "msg",
    "richText",
    "date",
    "d",
    "Date",
    "hh",
    "getHours",
    "mm",
    "getMinutes",
    "times"
  ],
  "mappings": ";;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAM;AACFC,qBAAS,IADP;AAEFC,qBAAS;AAFP;AADE,KAHP;;AAUL;AACAC,YAAQ,kBAAY;AAChB;AACH,KAbI;;AAeL;;;AAGAC,oBAAgB,0BAAU;AACtBT,WAAGU,GAAH,CAAO,gBAAgB,KAAKL,IAA5B;AACAM,gBAAQC,EAAR,GAAW,KAAKP,IAAL,CAAUQ,MAArB;AACLC,qBAAaC,WAAWC,UAAxB,EAAoCD,WAAWE,KAA/C;;AAIK;AACH,KA1BI;;AA4BLC,YAAQ,gBAASb,IAAT,EAAc;AAClB,aAAKA,IAAL,GAAYA,IAAZ;AACA,YAAIc,OAAO,KAAKC,UAAL,CAAgBf,KAAKA,IAArB,CAAX;AACA,aAAKgB,IAAL,CAAUC,YAAV,CAAuBtB,GAAGuB,QAA1B,EAAoCC,MAApC,GAA6C,KAAKC,aAAL,CAAmBN,IAAnB,EAAyBd,KAAKqB,QAA9B,EAAwCrB,KAAKsB,OAA7C,CAA7C;AACH,KAhCI;;AAkCL;;;AAGAC,mBAAe,uBAASC,GAAT,EAAa;AACxB,eAAO,gBAAcA,GAAd,GAAkB,MAAzB;AACH,KAvCI;;AAyCL;;;AAGAJ,mBAAe,uBAASN,IAAT,EAAeW,IAAf,EAAqBC,GAArB,EAAyB;AACpC,YAAIC,WAAWb,OAAO,yCAAP,GAAmDW,IAAnD,GAA0D,OAA1D,GAAoEC,GAAnF;AACA;AACA,eAAOC,QAAP;AACH,KAhDI;;AAkDL;;;AAGAZ,gBAAY,oBAASa,IAAT,EAAc;AACtB;AACA,YAAIC,IAAG,IAAIC,IAAJ,CAASF,IAAT,CAAP;AACA,YAAIG,KAAGF,EAAEG,QAAF,EAAP;AACA,YAAIC,KAAIJ,EAAEK,UAAF,EAAR;AACA,YAAGD,KAAG,EAAN,EAAS;AACLA,iBAAG,MAAIA,EAAP;AACH;AACD,YAAGF,KAAG,EAAN,EAAS;AACLA,iBAAG,MAAIA,EAAP;AACH;AACD,YAAII,QAAMJ,KAAG,GAAH,GAAOE,EAAjB;AACA,eAAOE,KAAP;AACH;AAlEI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        data: {\r\n            default: null,\r\n            visible: false\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        // this.richText = this.node.getComponent(cc.RichText);\r\n    },\r\n\r\n    /**\r\n     * 聊天窗点击姓名的点击事件\r\n     */\r\n    clickNameEvent: function(){\r\n        cc.log('click id = ' + this.data);\r\n        roleMsg.id=this.data.roleid;\r\n   loadingScene(HxsgScenes.friendInfo, HxsgScenes.index)\r\n\r\n\r\n\r\n        //TODO:点击事件\r\n    },\r\n\r\n    setMsg: function(data){\r\n        this.data = data;\r\n        var time = this.dateToTime(data.data);\r\n        this.node.getComponent(cc.RichText).string = this.buildRichText(time, data.rolename, data.message);\r\n    },\r\n\r\n    /**\r\n     * 构造image的富文本字符串\r\n     */\r\n    richTextImage: function(img){\r\n        return '<img src=\\\"'+img+'\\\"/>';\r\n    },\r\n\r\n    /**\r\n     * 构造富文本内容\r\n     */\r\n    buildRichText: function(time, name, msg){\r\n        var richText = time + ' <color=#FFFF00 click=\"clickNameEvent\">' + name + '</c>:' + msg;\r\n        // cc.log(name + 'richText = ' + richText);\r\n        return richText;\r\n    },\r\n\r\n    /**\r\n     * 日期格式转换-->小时：分钟\r\n     */\r\n    dateToTime: function(date){\r\n        //p[i].data\r\n        var d= new Date(date);\r\n        var hh=d.getHours();\r\n        var mm= d.getMinutes();\r\n        if(mm<10){\r\n            mm=\"0\"+mm;\r\n        }\r\n        if(hh<10){\r\n            hh=\"0\"+hh;\r\n        }\r\n        var times=hh+\":\"+mm;\r\n        return times;\r\n    }\r\n});\r\n"
  ]
}