{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "window",
    "curItemData",
    "currentWupin",
    "self",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "chatMsg",
    "Prefab",
    "content",
    "Node",
    "title",
    "RichText",
    "msg",
    "EditBox",
    "onLoad",
    "i",
    "item",
    "instantiate",
    "addChild",
    "view",
    "setDesignResolutionSize",
    "SocketEvents",
    "updataFriendsMsg",
    "initFriendsMsg",
    "ajaxData",
    "HxsgUrl",
    "chatRecord",
    "myFriends",
    "initChatMsg",
    "sendMsg",
    "msessage",
    "getComponent",
    "string",
    "message",
    "sendMsgForFriends",
    "initSendMsg",
    "data",
    "itemMsg",
    "log",
    "comp",
    "initChatMsgItem",
    "height",
    "backEvent",
    "returnLastScene",
    "len",
    "length",
    "items",
    "children",
    "friendname",
    "zawuItemEvent",
    "clearScrollview",
    "removeAllChildren"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "window.curItemData = null;\r\nwindow.currentWupin = 0;\r\nvar self;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        chatMsg: cc.Prefab,\r\n        content: cc.Node,\r\n        title: cc.RichText,\r\n         msg:cc.EditBox,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n       \r\n           self = this;\r\n           for (var i = 0; i <20; i++) {\r\n            var item = cc.instantiate(self.chatMsg);\r\n            self.content.addChild(item);\r\n        }\r\n        cc.view.setDesignResolutionSize(720,1080,2);\r\n         SocketEvents.updataFriendsMsg=this.initFriendsMsg;\r\n        //cc.log(myFriends)\r\n        ajaxData(HxsgUrl.chatRecord,myFriends,this.initChatMsg);\r\n\r\n    },\r\n /**\r\n     * 点击事件-->快速恢复\r\n     */\r\n    sendMsg: function () {\r\n      \r\n        \r\n         var msessage=this.msg.getComponent(cc.EditBox).string;\r\n         myFriends.message=msessage;\r\n         ajaxData(HxsgUrl.sendMsgForFriends,myFriends,this.initSendMsg);\r\n         \r\n          //cc.log(msessage);\r\n    },\r\n   initSendMsg: function (data) {\r\n         \r\n        var msg = data.msg;\r\n        //cc.log(msg)\r\n            var itemMsg = msg;\r\n            if(itemMsg===''||typeof(itemMsg)==='undefined'){\r\n                    cc.log(\"返回null\")\r\n            }else{\r\n             var item = cc.instantiate(self.chatMsg);\r\n     \r\n            // frist.zIndex=0;\r\n              \r\n               //self.content.children[0].zIndex=0;\r\n               \r\n            //  var li=self.content.children;\r\n            \r\n            self.content.addChild(item);\r\n            //  for(var i=0;i<li.length;i++){\r\n            //       cc.log('index'+i+':'+li[i].zIndex)\r\n            //  }\r\n         cc.log( self.content)\r\n                var comp = item.getComponent('chatMsgItem');\r\n            comp.initChatMsgItem(self.content.height, 'friends', itemMsg);\r\n        self.content.height+=50;\r\n            }\r\n        \r\n         //cc.log(item)\r\n    },\r\n    initFriendsMsg: function (data) {\r\n            var itemMsg = data;\r\n             // cc.log(itemMsg)\r\n            var item = cc.instantiate(self.chatMsg);\r\n            self.content.addChild(item);\r\n        // cc.log( self.content)\r\n                var comp = item.getComponent('chatMsgItem');\r\n            comp.initChatMsgItem(self.content.height, 'friends', itemMsg);\r\n        self.content.height+=50;\r\n        // cc.log(item)\r\n    },\r\n\r\n    /**\r\n     * 点击事件-->返回\r\n     */\r\n    backEvent: function () {\r\n        //调用通用的返回上一场景方法\r\n        returnLastScene();\r\n\r\n    },\r\n\r\n\r\n    initChatMsg: function (data) {\r\n        //self.content.removeAllChildren();\r\n        var msg = data.msg\r\n        var len=msg.length-1;\r\n       // cc.log(msg)\r\n        var items = self.content.children;\r\n        for (var i = 19; i >=0; i--) {\r\n            var item =items[i];\r\n            var comp = item.getComponent('chatMsgItem');\r\n             var itemMsg = msg[len];\r\n             len--;\r\n            comp.initChatMsgItem(i, 'friends', itemMsg);\r\n        }\r\n        self.title.string='<color=#00ff00>与【'+myFriends.friendname+'】聊天</c>';\r\n        self.content.height = msg.length * 50;\r\n    },\r\n\r\n   \r\n\r\n    zawuItemEvent: function(data){\r\n        //TODO:\r\n    },\r\n\r\n    clearScrollview: function () {\r\n        this.content.removeAllChildren();\r\n    },\r\n\r\n});\r\n"
  ]
}